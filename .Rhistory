pStayt <- as.numeric(c(scen[s,'PSTAY_A1'],scen[s,'PSTAY_A2']))
dat <- makeDat(wa = c(5,5),
fec_a50 = c(6,6),
fec_a95 = c(12,12),
slx_a50=slx_a50t,
slx_a95=slx_a95t,
pStay=pStayt)
FFs <- expand.grid(seq(0,1,0.05),seq(0,1,0.05))
out <- makeOut(dat, FFs)
propmsytemp<- getMSY()
out2 <- makeOut2(propmsy=propmsytemp)
head(out)
for(a in 1:2){
out[,'ralston_a1',a] <- expR_a1/SB_A1*(SB_A1+SB_A2)/2
out[,'ralston_a1',a] <- expR_a2/SB_A2*(SB_A1+SB_A2)/2
}
for(a in 1:2){
out[,'ralston_a1',a] <- expR_A1/SB_A1*(SB_A1+SB_A2)/2
out[,'ralston_a2',a] <- expR_A2/SB_A2*(SB_A1+SB_A2)/2
}
for(a in 1:2){
out[,'ralston_a1',a] <-    out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2
out[,'ralston_a2',a] <-out[,'expR_A2',a] /out[,'SB_A2',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2
}
out[,'ralston_a1',a]
a
for(a in 1:2){
out[,'ralston_a1',a] <-   out[,'ralston_a2',a] <- NULL
out[,'ralston_a1',a] <-    out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2
out[,'ralston_a2',a] <-out[,'expR_A2',a] /out[,'SB_A2',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2
}
out[,'ralston_a1',a] <-   out[,'ralston_a2',a] <- NULL
out
out <- makeOut(dat, FFs)
out[,'ralston_a1',a] <-   out[,'ralston_a2',a] <- NULL
out[,'ralston_a2',a]
out
out <- makeOut(dat, FFs)
out
HEAD(OUT)
head(out)
a = 1
out[,'ralston_a1',a]
out[,'ralston_a2',a] <- NULL
a
matrix(data.frame(out[,,a] %>%
mutate(ralston_a1 =out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2)))
matrix(data.frame(out[,,a]) %>%
mutate(ralston_a1 =out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2))
data.frame(out[,,a]) %>%
mutate(ralston_a1 =out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2)
out[,,a] <-data.frame(out[,,a]) %>%
mutate(ralstonR_a1 =out[,'expR_A1',a] /out[,'SB_A1',a]*(out[,'SB_A1',a]+out[,'SB_A2',a])/2)
source(here("R","fnxs.R"))
out <- makeOut(dat, FFs)
## run analysis across discrete surface given input LH and FF vetors
makeOut <- function(dat,FFs){
## Generate a surface of expected yields, given new method
out <- array(NA, dim = c(nrow(FFs),17,2),
dimnames = list(c(1:nrow(FFs)),c("FF_Area1","FF_Area2",
"estRbar","estRprop",
"Yield_A1","Yield_A2",
"SB_A1","SB_A2",
"SB0_A1","SB0_A2",
"expR_A1","expR_A2",
"obsR_A1","obsR_A2","tyield",
"ralstonR_A1","ralstonR_A2"),
c('new','old'))) ## each slice is old or new
for(i in 1:nrow(FFs)){
out[i,'FF_Area1',] <- FFs[i,1];   out[i,'FF_Area2',] <- FFs[i,2]
## this is the new method; old method uses global inputs
opt0 <- optim_loop(FFs,i)
opt_temp <- opt0$opt_temp; tmp0 <- opt0$tmp0; tmp <- opt0$tmp
out[i,'estRbar',1] <- opt_temp$par[1];  out[i,'estRprop',1] <- opt_temp$par[2];
out[i,'estRbar',2] <- R0_global;  out[i,'estRprop',2] <- Rprop_input
## derived quants at optimized value
yields <- as.numeric(getYield(passR = out[i,'estRbar',1], passRprop =   out[i,'estRprop',1], YPR_F = tmp$YPR))
out[i,'Yield_A1',1] <- yields[1];  out[i,'Yield_A2',1] <- yields[2];
sbs <-getSB(passR = out[i,'estRbar',1], passRprop = out[i,'estRprop',1], SBPR_F = tmp$SBPR)
out[i,'SB_A1',1] <- as.numeric(sbs[1]);  out[i,'SB_A2',1] <- as.numeric(sbs[2]);
sb0 <- getSB(passR = out[i,'estRbar',1], passRprop = out[i,'estRprop',1], SBPR_F = tmp0$SBPR)
out[i,'SB0_A1',1] <- as.numeric(sb0[1]);  out[i,'SB0_A2',1] <-as.numeric(sb0[2]);
rexp <- as.numeric(getExpR(passR = out[i,'estRbar',1],
passRprop = out[i,'estRprop',1],
SB_F =sbs, SB_0 =sb0))
out[i,'expR_A1',1] <- rexp[1];  out[i,'expR_A2',1] <- rexp[2];
obsr <- as.numeric(out[i,'estRbar',1]*c(out[i,'estRprop',1],1-out[i,'estRprop',1]))
out[i,'obsR_A1',1] <- obsr[1];  out[i,'obsR_A2',1] <- obsr[2];
rm(opt0)
## derived quants at global value ("current method")
yields <- as.numeric(getYield(passR = out[i,'estRbar',2], passRprop =   out[i,'estRprop',2], YPR_F = tmp$YPR))
out[i,'Yield_A1',2] <- yields[1];  out[i,'Yield_A2',2] <- yields[2];
sbs <-getSB(passR = out[i,'estRbar',2], passRprop = out[i,'estRprop',2], SBPR_F = tmp$SBPR)
out[i,'SB_A1',2] <- as.numeric(sbs[1]);  out[i,'SB_A2',2] <- as.numeric(sbs[2]);
sb0 <- getSB(passR = out[i,'estRbar',2], passRprop = out[i,'estRprop',2], SBPR_F = tmp0$SBPR)
out[i,'SB0_A1',2] <- as.numeric(sb0[1]);  out[i,'SB0_A2',2] <-as.numeric(sb0[2]);
rexp <- as.numeric(getExpR(passR = out[i,'estRbar',2], passRprop =   out[i,'estRprop',2],
SB_F = data.frame(sbs), SB_0 =data.frame(sb0)))
out[i,'expR_A1',2] <- rexp[1];  out[i,'expR_A2',2] <- rexp[2];
obsr <- as.numeric(out[i,'estRbar',2]*c( out[i,'estRbar',2],1-out[i,'estRprop',2]))
out[i,'obsR_A1',2] <- obsr[1];  out[i,'obsR_A2',2] <- obsr[2];
out[i,'tyield',1] <- out[i,'Yield_A1',1]+ out[i,'Yield_A2',1]
out[i,'tyield',2] <- out[i,'Yield_A1',2]+ out[i,'Yield_A2',2]
out[i,'ralstonR_A1',1] <- out[i,'expR_A1',1] /out[i,'SB_A1',1]*(out[i,'SB_A1',1]+out[i,'SB_A2',1])/2
out[i,'ralstonR_A2',1] <- out[i,'expR_A2',1] /out[i,'SB_A2',1]*(out[i,'SB_A1',1]+out[i,'SB_A2',1])/2
out[i,'ralstonR_A1',2] <- out[i,'expR_A1',2] /out[i,'SB_A1',2]*(out[i,'SB_A1',2]+out[i,'SB_A2',2])/2
out[i,'ralstonR_A2',2] <- out[i,'expR_A2',2] /out[i,'SB_A2',2]*(out[i,'SB_A1',2]+out[i,'SB_A2',2])/2
} ## end FFs loop
return(out)
}
out <- makeOut(dat, FFs)
head(out)
with(out[,,1]) %>% plot(expR_A1 ~ ralstonR_A1)
out[,,1]
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1)) +
geom_point()
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1)) +
geom_point() +
geom_abline(0,1)
?geom_abline
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1)) +
geom_point() +
geom_abline(aes(xintercept = 0, slope = 1))
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1)) +
geom_point() +
geom_abline(xintercept = 0, slope = 1)
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1)) +
geom_point() +
geom_abline(xintercept = 0, slope = 1, col = 'red')
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1, color = FF_A1)) +
geom_point() +
geom_abline(xintercept = 0, slope = 1, col = 'red')
names(out)
dimnames(out)
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = expR_A1, y = ralstonR_A1, color = FF_Area1)) +
geom_point() +
geom_abline(xintercept = 0, slope = 1, col = 'red')
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A1, y =expR_A1 , color = FF_Area1)) +
geom_point() +
geom_point( aes( y = obsR_A1, color = FF_Area1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A1, color = FF_Area1)) +
geom_point( y =expR_A1 ) +
geom_point( aes( y = obsR_A1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
DIMNAMES(OUT)
dimnames(out)
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A1, color = FF_Area1)) +
geom_point( aes(y =expR_A1 ) )+
geom_point( aes( y = obsR_A1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A1, color = FF_Area1)) +
# geom_point( aes(y =expR_A1 ) )+
geom_point( aes( y = obsR_A1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
## sanity checking Ralston O'Farrel 2008  CJFAS
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A1, color = FF_Area1)) +
geom_point( aes(y =expR_A1 ) )+
# geom_point( aes( y = obsR_A1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
data.frame(out[,,2]) %>%
ggplot(., aes(x = ralstonR_A1, color = FF_Area1)) +
geom_point( aes(y =expR_A1 ) )+
geom_point( aes( y = obsR_A1)) +
geom_abline(xintercept = 0, slope = 1, col = 'red')
data.frame(out[,,2]) %>%
ggplot(., aes(x = ralstonR_A2, color = FF_Area2)) +
geom_point( aes(y =expR_A2 ) )+
geom_point( aes( y = obsR_A2)) +
geom_abline(xintercept = 0, slope = 2, col = 'red')
data.frame(out[,,1]) %>%
ggplot(., aes(x = ralstonR_A2, color = FF_Area2)) +
geom_point( aes(y =expR_A2 ) )+
geom_point( aes( y = obsR_A2)) +
geom_abline(xintercept = 0, slope = 2, col = 'red')
## sorting out why there's a turnaround
# ## isoclines (not as useful) ---
#
iso1 <- out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
select(FF_Area1,Yield_A1,FF_Area2) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
#
iso2 <- out[,,'new'] %>% data.frame() %>%
#           filter(FF_Area1== 0.5) %>%
select(FF_Area1,Yield_A2,FF_Area2) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
ggplot(iso1, aes(x = FF_Area1, y = yield, color = Area)) +
geom_line(lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
select(FF_Area1,Yield_A1,FF_Area2) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2"))
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_point(aes(x = FF_Area1, color = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = '')
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(Area)
iso1
head(iso1)
ggplot(iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(Area)
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(Area)
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_point(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(~Area)
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(~Area)
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield', color = 'F in Other Area') +
facet_wrap(~Area)
head(out)
#
ggsave(last_plot(),
height = 10, width = 8, dpi = 520,
file = here('figs',paste0(Sys.Date(),"-Isocline_By_Area.png")))
head(iso1)
## sorting out why there's a turnaround
# ## isoclines (not as useful) ---
#
iso1 <- out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
# select(Yield_A1 )%>%
select(FF_Area1,FF_Area2,tyield) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
iso1
iso2 <- out[,,'new'] %>% data.frame() %>%
# filter(FF_Area1== 0.5) %>%
# select(Yield_A2)%>%
select(FF_Area1,FF_Area2,tyield) %>%  reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
## sorting out why there's a turnaround
# ## isoclines (not as useful) ---
#
iso1 <- out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
# select(Yield_A1 )%>%
select(FF_Area1,FF_Area2,tyield) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield in Area', color = 'F in Other Area') +
geom_hline()
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield in Area', color = 'F in Other Area') +
facet_wrap(~Area)
iso1
out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
# select(Yield_A1 )%>%
select(FF_Area1,FF_Area2,tyield) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2")) %>%
mutate(Area = substr(variable,7,8), yield = value) %>%
select(-variable,-value)
out[,,'new'] %>% data.frame() %>%
# filter(FF_Area2== 0.5) %>%
# select(Yield_A1 )%>%
select(FF_Area1,FF_Area2,tyield) %>%
reshape2::melt(id = c("FF_Area1","FF_Area2"))
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = yield, group = FF_Area2), lwd = 1.1) +
# geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield in Area', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = yield, group = FF_Area2), lwd = 1.1) +
# geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = yield, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = yield, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = 'grey44', group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = 'purple', group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = 'Area 1', group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = 'Area 2', group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = 'Area 1', group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = 'Area 2', group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
ggplot(data = iso1, aes(y = yield)) +
geom_line(aes(x = FF_Area1, color = FF_Area2, group = FF_Area2), lwd = 1.1) +
geom_line(data = iso2, aes(x = FF_Area2, color = FF_Area1, group = FF_Area1), lwd = 1.1) +
ggsidekick::theme_sleek() +
scale_x_continuous(expand = c(0,0), limits = c(0,2)) +
scale_y_continuous(expand = c(0,0)) +
# scale_color_manual(values = c('grey44','purple'), labels = c('Area 1','Area 2')) +
labs(x = 'F in same area', title = 'Yield Isoclines by Area',
# subtitle = 'Alternative Area F = 0.05; removed runs with any negative yield',
y = 'Yield Total', color = 'F in Other Area') #+
